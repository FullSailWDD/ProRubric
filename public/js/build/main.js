"use strict";angular.module("ProRubric",["ngRoute"]).config(["$interpolateProvider","$routeProvider",function(e,t){e.startSymbol("{[{"),e.endSymbol("}]}"),t.when("/",{templateUrl:"views/dashboard.html",controller:"dashboardController"}).when("/edit/degree/:degree_id",{templateUrl:"views/editDegree.html",controller:"editDegree"}).when("/edit/course/:course_id",{templateUrl:"views/editCourse.html",controller:"editCourse"}).when("/audit/:rubric_id",{templateUrl:"views/audit.html",controller:"AuditController"}).when("/addInfo",{templateUrl:"views/addInfo.html",controller:"secondController"}).when("/addForm",{templateUrl:"views/addForm.html",controller:"secondController"}).when("/addRubric",{templateUrl:"views/addRubric.html",controller:"secondController"}).when("/home",{templateUrl:"views/home.html",controller:"secondController"}).when("/info",{templateUrl:"views/info.html",controller:"secondController"}).when("/text",{templateUrl:"views/text.html",controller:"secondController"})}]).service("Audit",[function(){this.data={auditMatrix:[],totalLineItems:8,auditProgress:0,auditGrade:0,_id:"1324567896543",title:"Deployment Day II",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed libero sem, volutpat eget massa et, mattis accumsan velit. Praesent fermentum a est vel pulvinar. Maecenas vestibulum rutrum erat, sit amet venenatis mi scelerisque non. Integer elementum laoreet velit eu convallis. ",gradeTiers:[1,.75,.4,0],course:{_id:"9876345345",title:"Deployment of Web Projects",acronym:"DWP"},sections:[{_id:"44343433",title:"Design",gradeWeight:.5,lineItems:[{_id:"22233232323",title:"Branding",content:"Project utilizes consistent and pleasing color palette and font choices. Accents and contrast are used to highlight important elements. All visual elements complement the selected branding and design aesthetic."},{_id:"22233232324",title:"User Flow",content:"Users should be able to intuitively navigate through the project. All areas are accessible and user actions are prompted with appropriate feedback."},{_id:"22233232325",title:"User Experience",content:"The project implements logical UI patterns and the cognitive load of the user is relatively light. A well designed mobile experienced is delivered to the user utilizing positive subtle messaging to draw the user further into the application."},{_id:"22233232326",title:"Information Hierarchy",content:"Attention is clearly and cleanly drawn to various elements depending on their well planned structured hierarchy of importance."}]},{_id:"44343434",title:"Code",gradeWeight:.5,lineItems:[{_id:"22233232327",title:"Semantics",content:"The study of meaning. In this situation we’re interested in the meaning of your code. Variables, functions, classes, objects, CSS Classes, HTML tags, etc. should all be named clearly, cleanly and semantically to represent the content they contain."},{_id:"22233232328",title:"Comprehension",content:"The ability for a 3rd party developer or peer reviewer to transverse your code easily. Unnecessarily complex code structures, code not in use or heavily commented out code are considered bad practices and will be penalized accordingly."},{_id:"22233232329",title:"MVC File Structure",content:"Proper file structure and organization for an MVC framework. Views, Models, and Controllers are handled properly."},{_id:"22233232320",title:"Formatting, Comments, & Logs",content:"All code should be formatted and commented professionally. Its highly recommended to adopt a consistent pattern and follow it, look into phpDocumentor for references. Additionally, labeled console.log()’s, when used, should be used appropriately and in moderation as to not bombard the reviewer / developer."}]}]}}]).factory("socket",["$rootScope",function(e){var t=io.connect();return{on:function(o,r){t.on(o,function(){var o=arguments;e.$apply(function(){r.apply(t,o)})})},emit:function(o,r,n){t.emit(o,r,function(){var o=arguments;e.$apply(function(){n&&n.apply(t,o)})})}}}]).controller("dashboardController",["$scope","socket",function(e,t){e.reloadPage=function(){window.location.reload()},e.$on("$viewContentLoaded",function(){t.on("find degrees",function(t){t.length?e.degreeView=t:console.log("You has no degrees :(")}),t.on("find course",function(t){t.length?e.courseView=t:console.log("You has no courses :(")})}),e.degreeAdd=function(){var o={title:e.degreeTitle,acronym:e.degreeAcronym};t.emit("add degree",o),e.reloadPage()},e.degreeDelete=function(o){t.emit("delete degree",o),e.reloadPage()}}]).controller("editDegree",["$scope","$routeParams","socket",function(e,t,o){e.reloadPage=function(){window.location.reload()},o.emit("degree req",t.degree_id),o.on("degree send",function(t){e.degreeEdit=t[0]}),e.degreeUpdate=function(){var t={_id:e.degreeEdit._id,title:e.degreeEdit.title,acronym:e.degreeEdit.acronym};console.log(t),o.emit("degree update",t),e.reloadPage()}}]).controller("editCourse",["$scope","$routeParams","socket",function(e,t,o){e.reloadPage=function(){window.location.reload()},o.emit("course req",t.course_id),o.on("course send",function(t){e.editData=t}),e.courseUpdate=function(){var t={_id:e.editData._id,title:e.editData.title,acronym:e.editData.acronym,description:e.editData.description};o.emit("course update",t),e.reloadPage()}}]).controller("AuditController",["$scope","Audit",function(e,t){e.rubric=t.data,e.calculateGrade=function(){var t=[];for(var o in e.rubric.auditMatrix)t.push(e.rubric.auditMatrix[o]);e.rubric.auditGrade=t.reduce(function(e,t,o,r){return e+t})},e.calculateAuditProgress=function(t,o,r,n){e.rubric.auditMatrix[t]=o*(r/n);var i=Object.keys(e.rubric.auditMatrix).length;return e.calculateGrade(),e.rubric.auditProgress=i/e.rubric.totalLineItems*100,e.rubric.auditProgress},e.actionGrade=function(t,o){var r=!1;angular.forEach(e.rubric.sections,function(n,i){angular.forEach(n.lineItems,function(i,a){i._id===t&&(i.grade=o,r=i,e.calculateAuditProgress(t,o,n.gradeWeight,n.lineItems.length))})}),r||console.log("Error: No Item ID Matched for this Rubric")},e.actionOutput=function(){console.log(e.rubric)}}]);